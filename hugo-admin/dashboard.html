<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="index.css" />
    <title>PrimeVest</title>
    <style>
      /* Keep dropdown visible when hovered */
      .dropdown:hover .dropdown-menu {
        opacity: 1 !important;
        pointer-events: auto !important;
      }
    </style>
  </head>
  <body class="bg-gray-50 h-screen flex flex-col">
    <header
      class="p-4 flex justify-between items-center border-b sticky top-0 bg-white z-10"
    >
      <div class="flex items-center gap-1">
        <h1 class="text-2xl text-gray-700 font-semibold">PrimeVest</h1>
      </div>
      <div class="flex justify-end items-center gap-2">
        <span
          id="adminnameEl"
          class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold hover:bg-gray-300 cursor-pointer"
        >
          A
        </span>
        <span class="flex flex-col">
          <h4 id="adminName" class="text-sm font-semibold">Admin-01</h4>
          <h6 class="text-xs text-gray-500">Admin</h6>
        </span>
        <span
          class="flex items-center w-6 h-6 justify-center border rounded-full hover:bg-gray-100 cursor-pointer relative group"
        >
          <i class="fas fa-chevron-down text-gray-500 text-xs"></i>
          <div
            class="flex flex-col top-9 right-0 translate-y-1 absolute w-max p-4 bg-white border rounded shadow-lg scale-0 group-hover:scale-100 transition-all duration-300"
          >
            <span
              class="block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 flex items-center gap-2 group/item"
            >
              <i
                class="fas fa-user-cog text-gray-500 text-xs group-hover/item:text-white"
              ></i>
              <button
                class="text-[14px] group-hover/item:text-white font-semibold text-gray-500"
              >
                Manage Account
              </button>
            </span>
            <span
              class="block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 flex items-center gap-2 group/item"
            >
              <i
                class="fas fa-key text-gray-500 text-xs group-hover/item:text-white"
              ></i>
              <button
                class="text-[14px] group-hover/item:text-white font-semibold text-gray-500"
              >
                Change Password
              </button>
            </span>
            <span
              class="block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 flex items-center gap-2 group/item"
            >
              <i
                class="fas fa-sign-out-alt text-gray-500 text-xs group-hover/item:text-white"
              ></i>
              <button
                class="text-[14px] group-hover/item:text-white font-semibold text-gray-500"
              >
                Log out
              </button>
            </span>
          </div>
        </span>
      </div>
    </header>
    <main class="flex w-full bg-gray-100">
      <aside class="w-1/6 border-r h-[87vh] sticky top-[4.6em]">
        <nav class="flex flex-col gap-2 bg-white p-4 rounded shadow h-full">
          <button
            class="w-full text-left pagesBtn block px-4 py-3 hoverd transition-all background text-white duration-300 active:bg-green-700 hover:text-white rounded font-semibold text-gray-700"
            data-target="#Dashboard"
          >
            Dashboard
          </button>
          <button
            class="w-full text-left pagesBtn block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 hover:text-white rounded font-semibold text-gray-700"
            data-target="#UserManagements"
          >
            User Management
          </button>
          <button
            class="w-full text-left pagesBtn block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 hover:text-white rounded font-semibold text-gray-700"
            data-target="#PlansManagement"
          >
            Plans Management
          </button>
          <button
            class="w-full text-left pagesBtn block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 hover:text-white rounded font-semibold text-gray-700"
            data-target="#FinancialServices"
          >
            Financial Services
          </button>
          <button
            class="w-full text-left pagesBtn block px-4 py-3 hoverd transition-all duration-300 active:bg-green-700 hover:text-white rounded font-semibold text-gray-700"
            data-target="#Transactions"
          >
            Transactions
          </button>
        </nav>
      </aside>
      <div
        class="w-5/6 h-[calc(100vh-4.6em)] flex-col flex px-4 overflow-y-scroll scrollBar-remove"
      >
        <section
          class="flex flex-col w-full h-full pages overflow-y-scroll scrollBar-remove"
          id="Dashboard"
        >
          <h2 class="text-xl font-bold sticky top-0 pt-4 pb-4 bg-gray-100 px-2">
            Welcome to PrimeVest Dashboard
          </h2>
          <div class="w-full flex gap-3 flex-col">
            <div class="flex w-full gap-4">
              <div
                class="w-1/4 p-4 bg-white border rounded shadow flex items-center justify-between gap-4 hover:shadow-lg transition-shadow duration-300"
              >
                <span class="flex flex-col gap-3">
                  <h3 class="text-sm font-semibold">Total users</h3>
                  <p id="totalUsers" class="text-xl font-bold text-blue-500">
                    0
                  </p>
                </span>
                <span
                  class="w-12 h-12 bg-purple-200 p-2 flex items-center justify-center rounded-full"
                >
                  <img src="./assets/Group (1).png" alt="" class="" />
                </span>
              </div>

              <div
                class="w-1/4 p-4 bg-white border rounded shadow flex items-center gap-4 hover:shadow-lg transition-shadow duration-300"
              >
                <span class="flex flex-col gap-3">
                  <h3 class="text-sm font-semibold">Total Investments</h3>
                  <p
                    id="totalInvestments"
                    class="text-xl font-bold text-blue-500"
                  >
                    0
                  </p>
                </span>
                <span
                  class="w-12 h-12 bg-green-200 p-2 flex items-center justify-center rounded-full"
                >
                  <img src="./assets/icon.png" alt="" class="" />
                </span>
              </div>

              <div
                class="w-1/4 p-4 bg-white border rounded shadow flex items-center gap-4 hover:shadow-lg transition-shadow duration-300"
              >
                <span class="flex flex-col gap-3">
                  <h3 class="text-sm font-semibold">Total Deposits</h3>
                  <p id="totalDeposits" class="text-xl font-bold text-blue-500">
                    0
                  </p>
                </span>
                <span
                  class="w-12 h-12 bg-yellow-100 p-2 flex items-center justify-center rounded-full"
                >
                  <img src="./assets/icon (1).png" alt="" class="" />
                </span>
              </div>

              <div
                class="w-1/4 p-4 bg-white border rounded shadow flex items-center gap-4 hover:shadow-lg transition-shadow duration-300"
              >
                <span class="flex flex-col gap-3">
                  <h3 class="text-sm font-semibold">Total Withdrawals</h3>
                  <p
                    id="totalWithdrawals"
                    class="text-xl font-bold text-blue-500"
                  >
                    0
                  </p>
                </span>
                <span
                  class="w-12 h-12 bg-pink-100 p-2 flex items-center justify-center rounded-full"
                >
                  <img src="./assets/icon (2).png" alt="" class="" />
                </span>
              </div>
            </div>
            <div
              class="w-full bg-white rounded flex gap-3 flex-col px-4 py-3 min-h-[400px]"
            >
              <h1 class="text-xl font-bold px-4">Your Transaction Overview</h1>
              <div
                class="w-full h-full bg-gray-100 flex items-center justify-center"
              >
                <img src="./assets/chart.jpg" alt="" />
              </div>
            </div>
          </div>
        </section>
        <section
          class="hidden w-full pages overflow-y-scroll scrollBar-remove h-full"
          id="UserManagements"
        >
          <h2 class="text-xl font-bold mb-4 sticky py-4 top-0 bg-gray-100">
            User Management
          </h2>

          <div
            class="w-full bg-white rounded flex gap-3 flex-col px-4 py-3 min-h-full"
          >
            <h1 class="text-xl font-bold px-4">All Users</h1>

            <div class="w-full bg-gray-100 rounded-md">
              <div
                class="w-full flex p-4 items-center justify-between text-sm font-semibold"
              >
                <span class="text-gray-500 w-[14%] text-center">Username</span>
                <span class="text-gray-500 w-[14%] text-center"
                  >Phone Number</span
                >
                <span class="text-gray-500 w-[14%] text-center"
                  >Welfare Balance</span
                >
                <span class="text-gray-500 w-[14%] text-center"
                  >Investment Balance</span
                >
                <span class="text-gray-500 w-[14%] text-center">Role</span>
                <span class="text-gray-500 w-[14%] text-center">Status</span>
                <span class="text-gray-500 w-[14%] text-center">Actions</span>
              </div>
            </div>

            <div id="loader" class="loader-overlay hidden">
              <div class="spinner"></div>
            </div>

            <!-- Dynamic user list -->
            <div id="usersContainer" class="flex flex-col w-full"></div>
          </div>
        </section>

        <!-- 🟦 Edit User Modal -->
        <div
          id="editUserModal"
          class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center scale-0 transition-all duration-300 z-50"
        >
          <div class="bg-white w-[90%] max-w-md rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-bold mb-4">Edit User</h2>

            <form id="editUserForm" class="flex flex-col gap-3">
              <div>
                <label class="block text-gray-600 text-sm mb-1"
                  >Account Status</label
                >
                <select
                  id="accountStatusInput"
                  class="w-full border rounded-md px-3 py-2 focus:ring focus:ring-blue-200"
                >
                  <option value="active">Active</option>
                  <option value="suspended">Suspended</option>
                  <option value="inactive">Inactive</option>
                </select>
              </div>

              <div>
                <label class="block text-gray-600 text-sm mb-1"
                  >Account Balance (₦)</label
                >
                <input
                  type="number"
                  id="accountBalanceInput"
                  class="w-full border rounded-md px-3 py-2 focus:ring focus:ring-blue-200"
                />
              </div>

              <div>
                <label class="block text-gray-600 text-sm mb-1"
                  >Investment Balance (₦)</label
                >
                <input
                  type="number"
                  id="investmentBalanceInput"
                  class="w-full border rounded-md px-3 py-2 focus:ring focus:ring-blue-200"
                />
              </div>

              <div>
                <label class="block text-gray-600 text-sm mb-1"
                  >Welfare Balance (₦)</label
                >
                <input
                  type="number"
                  id="welfareBalanceInput"
                  class="w-full border rounded-md px-3 py-2 focus:ring focus:ring-blue-200"
                />
              </div>

              <div class="flex justify-end gap-3 mt-4">
                <button
                  type="button"
                  id="cancelEdit"
                  class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 transition"
                >
                  Cancel
                </button>
                <button
                  type="submit"
                  id="saveEditUser"
                  class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
                >
                  Save
                </button>
              </div>
            </form>
          </div>
        </div>

        <section
          class="hidden w-full pages overflow-y-scroll scrollBar-remove h-full"
          id="PlansManagement"
        >
          <div
            class="flex items-center justify-between mb-4 sticky top-0 bg-gray-100 py-4 px-2"
          >
            <h2 class="text-xl font-bold">Plans Management</h2>
            <button
              class="background text-white px-4 py-2 rounded font-semibold active:scale-95 transition-all duration-300"
              id="addNewPlanBtn"
            >
              <i class="fas fa-plus"></i> Add New Plan
            </button>
          </div>

          <!-- Search Bar -->
          <div class="flex w-full justify-between px-2">
            <h2 class="text-xl font-bold">Plans</h2>
            <input
              type="text"
              placeholder="Search Plans... by plan name"
              class="border p-2 rounded w-1/3 focus:outline-green-500 transition-all duration-300 shadow-sm focus:shadow-md"
              id="filterSearch"
            />
          </div>

          <!-- Table Header -->
          <div class="w-full bg-white rounded flex flex-col px-4 py-3 mt-4">
            <div class="w-full bg-gray-100 rounded-md">
              <div class="w-full flex p-4 items-center justify-between">
                <span class="font-semibold">Plan Name</span>
                <span class="font-semibold">Daily Return</span>
                <span class="font-semibold">Duration</span>
                <span class="font-semibold">Total Return</span>
                <span class="font-semibold">Price</span>
                <span class="font-semibold">Status</span>
                <span class="font-semibold">Actions</span>
              </div>
            </div>

            <!-- Dynamic Container -->
            <div class="w-full flex flex-col gap-2" id="plansContainer">
              <p class="text-center text-gray-400 py-8" id="loadingText">
                Loading plans...
              </p>
            </div>
          </div>

          <!-- Create / Edit Modal -->
          <div
            id="planModal"
            class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"
          >
            <div
              class="bg-white rounded-lg p-6 w-[90%] md:w-[500px] shadow-xl relative"
            >
              <h3 class="text-xl font-bold mb-4" id="modalTitle">
                Create Plan
              </h3>
              <form id="planForm" class="flex flex-col gap-3">
                <input type="hidden" id="planId" />
                <input
                  type="text"
                  id="planTitle"
                  placeholder="Plan Title"
                  class="border p-2 rounded"
                  required
                />
                <input
                  type="number"
                  id="planPrice"
                  placeholder="Price"
                  class="border p-2 rounded"
                  required
                />
                <input
                  type="number"
                  id="planDailyIncome"
                  placeholder="Daily Income"
                  class="border p-2 rounded"
                  required
                />
                <input type="text"
                id="planType"
                placeholder="plan type eg:investment"
                class="border p-2 rounded"
                required
                >
                <input
                  type="number"
                  id="planDurationDays"
                  placeholder="Duration (Days)"
                  class="border p-2 rounded"
                  required
                />
                <input
                  type="number"
                  id="planTotalIncome"
                  placeholder="Total Income"
                  class="border p-2 rounded"
                  required
                />
                <select id="planStatus" class="border p-2 rounded">
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                </select>
                <textarea
                  id="planDescription"
                  placeholder="Description"
                  class="border p-2 rounded"
                ></textarea>

                <button
                  type="submit"
                  class="background text-white px-4 py-2 rounded font-semibold mt-2 active:scale-95 transition-all"
                  id="savePlanBtn"
                >
                  Save Plan
                </button>
              </form>
              <button
                class="absolute top-2 right-4 text-gray-500 hover:text-red-500 text-xl"
                id="closeModal"
              >
                ×
              </button>
            </div>
          </div>
        </section>

        <section
          class="hidden w-full pages overflow-y-scroll scrollBar-remove"
          id="FinancialServices"
        >
          <h2 class="text-xl font-bold py-4 sticky top-0 bg-gray-100">
            Financial Services
          </h2>

          <div class="flex w-full justify-between">
            <h2 class="text-xl font-bold">Investments</h2>
            <input
              type="text"
              placeholder="Search by plan name or username"
              class="border p-2 rounded w-1/3 focus:outline-green-500 transition-all duration-300 shadow-sm focus:shadow-md"
              id="filteredSearch"
            />
          </div>

          <div
            class="w-full bg-white rounded flex flex-col px-4 py-3 min-h-full mt-4"
          >
            <!-- Table Heading -->
            <div class="w-full bg-gray-100 rounded-md">
              <div class="w-full flex p-4 items-center justify-between">
                <span class="text-gray-500 font-semibold">Plan Name</span>
                <span class="text-gray-500 font-semibold">Username</span>
                <span class="text-gray-500 font-semibold">Duration</span>
                <span class="text-gray-500 font-semibold">Amount Invested</span>
                <span class="text-gray-500 font-semibold">Start Date</span>
                <span class="text-gray-500 font-semibold">End Date</span>
                <span class="text-gray-500 font-semibold">Status</span>
                <span class="text-gray-500 font-semibold">Actions</span>
              </div>
            </div>

            <!-- Container where investment cards will be injected -->
            <div
              class="w-full flex flex-col gap-2 h-full"
              id="investmentContainer"
            ></div>
          </div>
        </section>

        <!-- Edit Status Modal -->
        <div
          id="editModalInv"
          class="fixed inset-0 bg-black bg-opacity-40 hidden justify-center items-center z-50"
        >
          <div class="bg-white rounded-xl p-6 w-96 shadow-lg">
            <h3 class="text-lg font-semibold mb-4">Edit Investment Status</h3>
            <select
              id="statusSelectInv"
              class="border p-2 w-full rounded mb-4 focus:outline-green-500"
            >
              <option value="active">Active</option>
              <option value="completed">Completed</option>
            </select>
            <div class="flex justify-end gap-3">
              <button
                id="cancelEditInv"
                class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition-all"
              >
                Cancel
              </button>
              <button
                id="saveEditInv"
                class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-all"
              >
                Save
              </button>
            </div>
          </div>
        </div>

        <section
          class="hidden w-full pages overflow-y-scroll scrollBar-remove h-full"
          id="Transactions"
        >
          <h2 class="text-xl font-bold py-4 sticky top-0 bg-gray-100">
            Your Transactions
          </h2>

          <div class="flex w-full border-b gap-6">
            <label
              class="text-gray-500 font-semibold text-md py-3 borderButton borderhover transactionBtn"
              data-target="#Deposits"
              >Deposits</label
            >
            <label
              class="text-gray-500 font-semibold text-md py-3 borderhover transactionBtn"
              data-target="#Withdrawals"
              >Withdrawals</label
            >
          </div>

          <div class="w-full flex flex-col min-h-full bg-white px-3 pt-3">
            <!-- Deposits -->
            <section
              class="flex flex-col w-full Settings h-full items-center gap-16"
              id="Deposits"
            >
              <div
                class="w-full bg-white rounded flex gap-3 flex-col px-4 py-3 min-h-full mt-4"
              >
                <!-- Headings (aligned with deposit schema) -->
                <div class="w-full bg-gray-100 rounded-md">
                  <div class="w-full flex p-4 items-center justify-between">
                    <span class="text-gray-500 font-semibold"
                      >Transaction ID</span
                    >
                    <span class="text-gray-500 font-semibold">Username</span>
                    <span class="text-gray-500 font-semibold">Amount</span>
                    <span class="text-gray-500 font-semibold"
                      >Balance Type</span
                    >
                    <span class="text-gray-500 font-semibold">Funded At</span>
                    <span class="text-gray-500 font-semibold">Sender</span>
                    <span class="text-gray-500 font-semibold">Status</span>
                    <span class="text-gray-500 font-semibold">Actions</span>
                  </div>
                </div>

                <!-- Empty container — JS will append deposit cards here -->
                <div
                  class="w-full flex flex-col gap-2 h-full"
                  id="depositContainer"
                ></div>
              </div>
            </section>

            <!-- Withdrawals -->
            <section
              class="flex flex-col w-full Settings items-center gap-16 hidden"
              id="Withdrawals"
            >
              <div
                class="w-full bg-white rounded flex gap-3 flex-col px-4 py-3 min-h-full mt-4"
              >
                <!-- Headings (aligned with withdrawal schema) -->
                <div class="w-full bg-gray-100 rounded-md">
                  <div class="w-full flex p-4 items-center justify-between">
                    <span class="text-gray-500 font-semibold">Request ID</span>
                    <span class="text-gray-500 font-semibold">Username</span>
                    <span class="text-gray-500 font-semibold">Amount</span>
                    <span class="text-gray-500 font-semibold"
                      >Balance Type</span
                    >
                    <span class="text-gray-500 font-semibold"
                      >Requested At</span
                    >
                    <span class="text-gray-500 font-semibold">Status</span>
                    <span class="text-gray-500 font-semibold">Actions</span>
                  </div>
                </div>

                <!-- Empty container — JS will append withdrawal cards here -->
                <div
                  class="w-full flex flex-col gap-2 h-full"
                  id="withdrawalContainer"
                ></div>
              </div>
            </section>
          </div>
        </section>

        <!-- Edit Status Modal (reused for deposits & withdrawals) -->
        <div
          id="editModal2"
          class="fixed inset-0 bg-black bg-opacity-40 hidden z-50 items-center justify-center"
        >
          <div class="bg-white rounded-xl p-6 w-96 shadow-lg">
            <h3 id="modalTitle2" class="text-lg font-semibold mb-4">
              Edit Status
            </h3>

            <select
              id="statusSelect2"
              class="border p-2 w-full rounded mb-4 focus:outline-green-500"
            >
              <!-- options injected by JS based on type -->
            </select>

            <div class="flex justify-end gap-3">
              <button
                id="cancelEdit2"
                class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition-all"
              >
                Cancel
              </button>
              <button
              type="button"
                id="saveEditTransaction"
                class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-all"
              >
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script src="./js/index.js"></script>
  </body>
</html>
